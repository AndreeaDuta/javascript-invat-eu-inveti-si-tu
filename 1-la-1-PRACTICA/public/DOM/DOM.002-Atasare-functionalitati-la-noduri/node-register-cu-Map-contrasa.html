<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DOM node register with Map</title>
  </head>
  <body>
    <div>
      <p>Acesta este un paragraf de test</p>
      <p class='tinta'>Un alt avertisment.</p>
      <p>Câteva lucruri importante</p>
    </div>
    <script type="text/javascript">
      var tinta = document.getElementsByClassName('tinta');

      var registru = new Map();

      function ElemCuFunctionalitati(elementDOM){
        // verifică dacă pentru elementul DOM există deja funcționalități
        var existent = registru.get(elementDOM);
        if(existent){
          return existent;
        };
        // definești funcționalitățile pentru un anume element DOM
        functionalitati = {
          element: elementDOM,
          stergeElem: () => registru.delete(elementDOM)
        };
        // introduci în registru
        registru.set(elementDOM, functionalitati);
        // și returnezi combinația curentă
        return functionalitati;
      };

      ElemCuFunctionalitati(tinta);

      console.log(registru);
      // registru[0].faCeva();
    </script>
  </body>
</html>
